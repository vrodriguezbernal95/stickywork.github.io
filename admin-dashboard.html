<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - StickyWork Admin</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="admin/css/admin.css">
</head>
<body>
    <!-- BotÃ³n hamburguesa para mÃ³vil -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Abrir menÃº">
        â˜°
    </button>

    <!-- Overlay para cerrar sidebar en mÃ³vil -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">StickyWork</div>
        </div>

        <nav class="sidebar-nav">
            <a href="#" class="sidebar-link active" data-section="dashboard">
                ğŸ“Š Dashboard
            </a>
            <a href="#" class="sidebar-link" data-section="bookings">
                ğŸ“… Reservas
            </a>
            <a href="#" class="sidebar-link" data-section="services">
                ğŸ› ï¸ Servicios
            </a>
            <a href="#" class="sidebar-link" data-section="calendar">
                ğŸ“† Calendario
            </a>
            <a href="#" class="sidebar-link" data-section="widget">
                ğŸ¨ Widget
            </a>
            <a href="#" class="sidebar-link" data-section="support">
                ğŸ’¬ Mensajes
            </a>
            <a href="#" class="sidebar-link" data-section="settings">
                âš™ï¸ ConfiguraciÃ³n
            </a>
        </nav>

        <div class="sidebar-footer">
            <div class="user-info">
                <div class="user-avatar" id="userAvatar">A</div>
                <div class="user-details">
                    <div class="user-name" id="userName">Cargando...</div>
                    <div class="user-email" id="userEmail"></div>
                </div>
            </div>
            <button class="btn-logout" id="logoutBtn">
                Cerrar SesiÃ³n
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <header class="topbar">
            <div class="topbar-title" id="pageTitle">Dashboard</div>
            <div id="businessName" style="color: var(--text-secondary); font-size: 1rem;"></div>
        </header>

        <div class="content-area" id="contentArea">
            <!-- Content will be loaded dynamically by modules -->
            <div class="loading">
                <p>Cargando datos...</p>
            </div>
        </div>
    </main>

    <!-- Load modules in order -->
    <script src="admin/js/api.js"></script>
    <script src="admin/js/auth.js"></script>
    <script src="admin/js/components/stat-card.js"></script>
    <script src="admin/js/components/status-badge.js"></script>
    <script src="admin/js/components/modal.js"></script>
    <script src="admin/js/utils.js"></script>
    <script src="admin/js/dashboard.js"></script>
    <script src="admin/js/bookings.js"></script>
    <script src="admin/js/messages.js"></script>
    <script src="admin/js/services.js"></script>
    <script src="admin/js/calendar.js"></script>
    <script src="admin/js/widget.js"></script>
    <script src="admin/js/settings.js"></script>
    <script src="admin/js/support.js"></script>
    <script src="admin/js/app.js"></script>

    <!-- Script para menÃº mÃ³vil -->
    <script>
        (function() {
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const sidebar = document.getElementById('sidebar');
            const sidebarOverlay = document.getElementById('sidebarOverlay');
            const sidebarLinks = document.querySelectorAll('.sidebar-link');

            // Abrir/cerrar sidebar
            function toggleSidebar() {
                sidebar.classList.toggle('active');
                sidebarOverlay.classList.toggle('active');

                // Cambiar icono del botÃ³n
                if (sidebar.classList.contains('active')) {
                    mobileMenuToggle.innerHTML = 'âœ•';
                    mobileMenuToggle.setAttribute('aria-label', 'Cerrar menÃº');
                } else {
                    mobileMenuToggle.innerHTML = 'â˜°';
                    mobileMenuToggle.setAttribute('aria-label', 'Abrir menÃº');
                }
            }

            // Cerrar sidebar
            function closeSidebar() {
                sidebar.classList.remove('active');
                sidebarOverlay.classList.remove('active');
                mobileMenuToggle.innerHTML = 'â˜°';
                mobileMenuToggle.setAttribute('aria-label', 'Abrir menÃº');
            }

            // Event listeners
            if (mobileMenuToggle) {
                mobileMenuToggle.addEventListener('click', toggleSidebar);
            }

            if (sidebarOverlay) {
                sidebarOverlay.addEventListener('click', closeSidebar);
            }

            // Cerrar sidebar al hacer clic en un link (en mÃ³vil)
            sidebarLinks.forEach(link => {
                link.addEventListener('click', () => {
                    // Solo cerrar en mÃ³vil (cuando el overlay estÃ¡ visible)
                    if (window.innerWidth <= 768) {
                        closeSidebar();
                    }
                });
            });

            // Cerrar sidebar al redimensionar a desktop
            window.addEventListener('resize', () => {
                if (window.innerWidth > 768) {
                    closeSidebar();
                }
            });
        })();
    </script>
</body>
</html>
